<div class="main-wrap container">  <div class="main-content">    <div class="product-info" ms-controller="cartInfo">{{productName}}</div>    <div class="left-content">      <section class="contact" ms-controller="contactInfo">        <div class="section-title">          <div class="seq"></div>          <h2>预订联系人</h2>          <p>*用于接收预订确认单以及预订过程中的相关事宜</p>          <a class="to-login" ms-visible="contactList.length==0"             href="javascript:headerModel.buildOverlay( 'login' );">已是玩途用户？</a>        </div>        <div class="contact-list" ms-if="contactList.length>0">          已有联系人：          <div class="contact-wrap" ms-repeat-el="contactList" ms-class-1="checked:el.checked"               ms-class-2="add-new-contact:el.address_id == 0"               ms-click="changeContact($index)" ms-data-index="$index">{{el.firstname}}          </div>        </div>        <div class="fieldset-wrap">          <fieldset>            <div class="field-wrap" ms-repeat-el="contactFieldset" ms-class="long-field:$last">              <label ms-attr-for="fd_a_{{$index}}" ms-class-1="upper:el.status!='empty'||el.active"                     ms-class-2="active:el.active"                     ms-class-3="error:el.status=='error'">{{el.label}}</label>              <input ms-attr-id="fd_a_{{$index}}" ms-class="{{el.input_type}}"                     ms-readonly="el.input_type!='text'" ms-duplex="el.value" ms-attr-formVal="el.formVal"                     type="text"                     ms-focus="onFocus" ms-blur="onBlur" ms-keyup="onKeyup" ms-attr-data-index="a,{{$index}}"/>              <div class="border" ms-class-1="border-error:el.status=='error'"                   ms-class-2="border-active:el.active"></div>              <div class="close-btn x-close-bg" ms-if="el.options.length==0" ms-visible="el.closeBtn"                   ms-click="onClear" ms-attr-data-index="a,{{$index}}"></div>            </div>          </fieldset>        </div>        <div class="contact-tips" ms-if="contactList.length==0">*我们将用此邮箱为您注册玩途用户，密码默认为手机号后六位</div>      </section>      <div class="pr">        <section class="passengers" ms-controller="passenger">          <div class="section-title">            <div class="seq"></div>            <h2>出行人信息</h2>            <p>*请您务必仔细核查填写信息再付款，以免耽误出行</p>          </div>          <div class="fieldset-wrap" ms-repeat-fs="fieldsets" ms-class-1="leader:fs.isLead"               ms-class-2="leader-l:fs.fields.length>4">            <h3>出行人{{$index+1}}{{fs.name}}</h3>            <fieldset>              <div class="field-wrap" ms-repeat-el="fs.fields">                <label ms-attr-for="fd_{{$outer.$index}}_{{$index}}"                       ms-class-1="upper:el.status!='empty'||el.active"                       ms-class-2="active:el.active"                       ms-class-3="error:el.status=='error'">{{el.label}}</label>                <input ms-attr-id="fd_{{$outer.$index}}_{{$index}}" ms-class="{{el.input_type}}"                       ms-readonly="el.input_type!='text'" ms-attr-formVal="el.formVal"                       ms-attr-from="el.from" ms-attr-to="el.to" ms-attr-default="el.defaultVal" type="text"                       ms-focus="onFocus" ms-blur="onBlur" ms-duplex="el.value" ms-attr-tips="el.hint"                       ms-attr-data-index="{{$outer.$index}},{{$index}}" />                <div class="select-box" ms-if="el.options.length>0" ms-visible="el.showList">                  <div class="option" ms-repeat-op="el.options" ms-click="clickList"                       ms-attr-data-val="{{op.value}}"                       ms-attr-data-index="{{$outer.$outer.$index}},{{$outer.$index}}">{{op.title}}                  </div>                </div>                <div class="tips-ctn" ms-if="el.hint" ms-class="active:el.active">                  <div class="arrow-up"></div>                  {{el.hint}}                </div>                <div class="border" ms-class-1="border-error:el.status=='error'"                     ms-class-2="border-active:el.active"></div>                <div class="close-btn icon-x-circle-bg" ms-if="el.input_type=='text'" ms-visible="el.value"                     ms-click="onClear" ms-attr-data-index="{{$outer.$index}},{{$index}}"></div>              </div>            </fieldset>          </div>        </section>        <section class="coupons" ms-controller="coupon" ms-if="flag">          <div class="left-aside">            <div class="section-title coupon-margin"><div class="seq"></div><h2>输入优惠券</h2></div>            <div class="coupon-ctn" >              <div style="display: inline-block; vertical-align: top">                <div ms-class-1="coupon-error:useMark==0" ms-class-2="coupon-success:useMark==1">{{msg}}</div>                <div class="coupon-input-wrap" ms-class-1="{{state}}" ms-class-2="error:useMark==0">                  <label for="coupon_ipt">输入优惠劵</label>                  <input id="coupon_ipt" ms-blur="onBlur" ms-focus="onFocus" ms-duplex="couponCode"                         ms-disabled="state=='complete'" type="text"/>                  <i class="i icon-check-circle circle-checked" ms-if="state=='complete'"></i>                </div>                <button ms-click="applyCoupon(null)" ms-class-1="active:state=='active'&&couponCode.length>0"                        ms-class-2="complete:state=='complete'">{{btnText}}                </button>                <!--                    <div class="promotion-ctn">-->                <!--                        扫码关注我们<a href="javascript:;">微信公众账号-->                <!--                            <div class="qr-code-ctn"></div>-->                <!--                        </a>，立即获得5元优惠券！-->                <!---->                <!--                    </div>-->              </div>            </div>          </div>          <div class="qr-code-ctn">            <div class="scan-ctn"><div id="qrcode"><div class="qr-mask"></div><img src="" alt=""/></div><div class="qr-content" style="top:75px;"><p>微信扫码</p><p style="margin-top:10px;font-size:14px;">立得10元优惠</p><p style="font-size:14px;">(每个玩途用户只能扫码优惠 一次)</p></div></div>            <div class='scan-success' style="display: none;"><img class="left-img" src="themes/public/images/checkout/smile.png" alt=""/><div class="qr-right"><h3>立减10元</h3><p>恭喜您获得10元优惠</p></div></div>            <div class='scan-error' style="display: none;"><img class="left-img" src="themes/public/images/checkout/cry.png" alt=""/><div class="qr-right"><h3>有些不对劲</h3><p></p></div> <button class="try-again">再试一次</button></div>          </div>        </section>        <section class="payment" ms-controller="payment">          <div class="section-title coupon-margin"><div class="seq"></div><h2>支付方式</h2></div>          <div class="method-ctn">            <div class="payment-method " ms-class-1="no-mr:$last" ms-class-2="checked:el.checked"                 ms-click="changePayment" ms-attr-data-index="{{$index}}" ms-repeat-el="paymentMethods">              <i ms-class-1="icon-check-circle:el.checked" ms-class-2="icon-circle:!el.checked"></i>              <div ms-class="pm-logo-{{el.payment_method}}"></div>            </div>          </div>        </section>        <div class="buy-ctn" ms-controller="cartInfo">          <div class="sum-price">总价:<em>&yen;{{sumPrice}}</em></div>          <button ms-if="!toPay" class="aside-btn" ms-click="toBuy" ms-disabled="buyLabel!='确认订单'">{{buyLabel}}</button>          <a ms-if="toPay" class="aside-btn pay-btn" target="_blank" ms-click="beforePay"             ms-attr-href="{{toPay}}">去支付</a>        </div>        <div class="disable-mask"></div>      </div>    </div>    <aside ms-controller="cartInfo" id="right_aside">      <div class="cover-ctn">        <img ms-src="{{cover}}?imageView2/1/w/315/h/180" alt=""/>      </div>      <div class="aside-framework">        <div ms-if="tour_date">          <p class="aside-title">{{tour_date_title}}</p>          <div class="aside-content">            <div class="aside-content-style">              <p id="travel_date" class="aside-content-font">{{tour_date}}</p>            </div>          </div>        </div>        <div ms-if="specialCode">          <p class="aside-title">{{special_title}}</p>          <div class="aside-content">            <div class="aside-content-style">              <p id="travel_package" class="aside-content-font">{{specialCode}}</p>            </div>          </div>        </div>        <div ms-if="departure">          <p class="aside-title">{{departure_title}}</p>          <div class="aside-content">            <div class="aside-content-style">              <p id="travel_package" class="aside-content-font">{{departure}}</p>            </div>          </div>        </div>        <p class="aside-title">出行人数</p>        <div class="aside-content">          <div id="member-zone" class="aside-content-style" ms-repeat-el="quantity">            <label class="aside-content-title">{{el.name}}</label>            <label id="adult_number" class="aside-content-font">{{el.quantity}}</label>          </div>        </div>      </div>      <div class="product-rule" >        <ul>          <li class="r-redeem">            <h3>兑换规则</h3>            <p>{{rules.redeem_desc|html}}</p>          </li>          <li class="r-return">            <h3>退款限制</h3>            <p>{{rules.return_desc}}</p>          </li>          <li class="r-shipping">            <h3>发货限制</h3>            <p>{{rules.shipping_desc}}</p>          </li>        </ul>      </div>      <div class="coupon-result" ms-controller="coupon" ms-class="show:state=='complete'">        <div class="orig-price"><h4>原价</h4><em>{{origPrice}}</em><span class="rmb"></span></div>        <div class="discount"><h4 class="drop-shadow">{{coupon_title}}</h4><em class="drop-shadow">{{save}}</em><span              class="drop-shadow minus"></span></div>        <div class="border-ctn"></div>      </div>      <div class="aside-confirm">        <p class="confirm-title">总价</p>        <div class="price-zone">          <span class="total-price">{{sumPrice}}</span>        </div>      </div>      <div class="aside-bottom"></div>    </aside>  </div></div><div class="dialog-mask">  <div class="dialog-box">    <div class="dialog-title">请在跳转页面完成付款</div>    <div class="button-ctn">      <div class="button-desc">请在新开网银页面完成付款后选择：</div>      <a class="pay-complete" href="<? echo $this->createUrl('account/account') ?>#orders">付款完成</a>      <a class="pay-error" href="<? echo $this->createUrl('account/account') ?>#orders">付款失败</a>    </div>  </div></div>